(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-myorder_info"],{"841a":function(t,i,e){"use strict";e("7a82");var s=e("4ea4").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("c975"),e("ac1f"),e("5319"),e("e9c4");s(e("46de"));var n={data:function(){return{id:0,navst:0,list:[],title:"Hello",token:"",status:"loadmore",type:0,count:10,res_count:0,page:1,iswx:1}},onLoad:function(t){t.id&&(this.id=t.id),this.iswx=this.$iswx,this.GetToken()},onPullDownRefresh:function(){this.getData(),setTimeout((function(){uni.stopPullDownRefresh()}),1e3)},onShow:function(){this.list=[],this.GetToken()},onBackPress:function(){return uni.redirectTo({url:"myorder"}),!0},mounted:function(){2==this.iswx&&window.location.href.indexOf("?#")<0&&(window.location.href=window.location.href.replace("#","?#"))},methods:{istui:function(t){var i=this;if(this.list.paymo>0){var e="你正在进行退款操作，确定退款吗？";uni.showModal({content:e,confirmText:"确定",cancelText:"取消",cancelColor:"#71ADF5",confirmColor:"#71ADF5",success:function(e){e.confirm&&i.tuikuan(t)}})}else{e="你正在进行取消操作，确定取消吗？";uni.showModal({content:e,confirmText:"确定",cancelText:"取消",cancelColor:"#71ADF5",confirmColor:"#71ADF5",success:function(e){e.confirm&&i.qxyu(t)}})}},tuikuan:function(t){var i=this,e=3;if(2==this.iswx)e=1;else e=2;uni.request({url:i.$puburl+"resource/Payco/h5refund",data:{id:t,type:e,token:i.token},method:"GET",header:{"content-type":"application/json"},success:function(t){200==t.data.code?(uni.showToast({title:t.data.message,icon:"none",duration:2e3}),i.getData()):uni.showToast({title:t.data.message,icon:"none",duration:2e3})}})},open:function(){this.$refs.popup.open();this.$puburl,this.id},close:function(){this.$refs.popup.close()},getData:function(){var t=this;this.$api.myorderinfo({token:this.token,id:this.id,type:1}).then((function(i){t.list=i.data.data,t.money=i.data.data.money,console.log(t.money),uni.setNavigationBarTitle({title:i.data.data.star})}))},onBridgeReady:function(t){var i=this;uni.request({url:i.$puburl+"resource/Payco/wxh5",data:{id:t,st:1,token:i.token},method:"GET",header:{"content-type":"application/json"},success:function(e){var s=e.data;WeixinJSBridge.invoke("getBrandWCPayRequest",s,(function(e){console.log("xsssss="+JSON.stringify(e)),"get_brand_wcpay_request:ok"==e.err_msg?(uni.showToast({title:"支付成功",icon:"none",duration:2e3}),setTimeout((function(){uni.navigateTo({url:"../pay/payok?id="+t+"&money="+i.money})}),1e3)):uni.showToast({title:"支付失败",icon:"none",duration:2e3})}))}})},getpay:function(t){return 2==this.iswx?this.onBridgeReady(t):uni.navigateTo({url:"../pay/h5pay?id="+t+"&st=1"}),!1},qxyu:function(){var t=this;this.$api.quxiao_yuyue({id:this.id,token:this.token}).then((function(i){200==i.data.code?(uni.showToast({title:i.data.message,icon:"none",duration:2e3}),t.getData()):uni.showToast({title:i.data.message,icon:"none",duration:2e3})}))},GetToken:function(){var t=this;uni.getStorage({key:"userData",success:function(i){t.token=i.data.vuex_token,t.getData()}})},tiao:function(t){uni.redirectTo({url:t})}}};i.default=n},a584:function(t,i,e){"use strict";e.r(i);var s=e("ac88"),n=e("e453");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("b7d5");var a=e("f0c5"),u=Object(a["a"])(n["default"],s["b"],s["c"],!1,null,"5ed6c259",null,!1,s["a"],void 0);i["default"]=u.exports},ac88:function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return s}));var s={uniPopup:e("9730").default},n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.list&&t.list.id?e("v-uni-view",[e("v-uni-view",{staticClass:"u-padding-20"},[e("v-uni-view",{staticClass:"u-flex-col u-bg-white",staticStyle:{padding:"0 10px"}},[e("v-uni-view",{staticClass:"u-flex u-col-center u-row-between",staticStyle:{"line-height":"40px","border-bottom":"1px solid #F6F6F6","font-size":"14px",color:"#333333"}},[e("v-uni-view",{staticClass:"u-flex"},[e("i",{staticClass:"icon zhuti_color u-font-40"},[t._v("")]),e("span",{staticClass:"u-margin-left-20"},[t._v("订单信息")])]),e("v-uni-text",{staticClass:"u-font-24 u-color-balck3"},[t._v("ID："+t._s(t.list.id))])],1),e("v-uni-view",{},[e("v-uni-view",{staticClass:"u-flex border-bootom-1",staticStyle:{padding:"20rpx 0"}},[e("v-uni-image",{staticStyle:{width:"100rpx",height:"100rpx","border-radius":"20rpx"},attrs:{src:t.list.img,mode:""}}),e("v-uni-view",{staticClass:"u-flex-col u-margin-left-20"},[e("v-uni-view",{staticClass:"u-flex"},[e("v-uni-text",{staticClass:"u-font-26 u-color-balck3 u-margin-left-8 u-font-dan-sheng",staticStyle:{width:"540rpx",height:"40rpx","line-height":"40rpx"}},[t._v(t._s(t.list.title))])],1),t.list.tit?e("v-uni-text",{staticClass:"u-font-26 u-color-balck6 u-margin-top-10"},[t._v("【"+t._s(t.list.tit)+"]")]):t._e()],1)],1),e("v-uni-view",{staticClass:"u-flex-col u-margin-top-10"},[t.list.money>0?e("v-uni-view",{staticClass:"u-flex txtli u-row-between"},[e("v-uni-text",{staticClass:"u-font-24 u-color-balck3"},[t._v("订单总额")]),e("v-uni-text",{staticClass:"u-font-24 u-color-balck3"},[t._v("￥"+t._s(t.list.money))])],1):t._e(),e("v-uni-view",{staticClass:"u-flex txtli u-row-between"},[e("v-uni-text",{staticClass:"u-font-24 u-color-balck3"},[t._v("订单状态：")]),e("v-uni-view",{staticClass:"u-flex"},[e("v-uni-text",{staticClass:"u-font-24 u-color-balck3"},[t._v(t._s(t.list.star))])],1)],1),t.list.paymo>0?e("v-uni-view",{staticClass:"u-flex txtli u-row-between"},[e("v-uni-text",{staticClass:"u-font-24 u-color-balck3"},[t._v("实付款：")]),e("v-uni-view",{staticClass:"u-flex"},[e("v-uni-text",{staticClass:"u-font-28 zhuti_color_hong u-font-bold"},[t._v("￥"+t._s(t.list.paymo))])],1)],1):t._e(),e("v-uni-view",{staticClass:"u-flex txtli u-row-between"},[e("v-uni-text",{staticClass:"u-font-24 u-color-balck3"},[t._v("提交时间：")]),e("v-uni-view",{staticClass:"u-flex"},[e("v-uni-text",{staticClass:"u-font-24 u-color-balck3"},[t._v(t._s(t.list.addtime))])],1)],1)],1)],1)],1)],1),e("v-uni-view",{staticStyle:{padding:"0rpx 20rpx"}},[e("v-uni-view",{staticClass:"u-flex-col u-bg-white",staticStyle:{padding:"0 10px"}},[e("v-uni-view",{staticClass:"u-flex",staticStyle:{"line-height":"40px","border-bottom":"1px solid #F6F6F6","font-size":"14px",color:"#333333"}},[e("v-uni-text",{staticClass:"icon zhuti_color u-font-40"},[t._v("")]),e("v-uni-text",{staticClass:"u-margin-left-20"},[t._v("预约信息")])],1),t.list.number>0?e("v-uni-view",{staticClass:"u-flex u-flex-wrap",staticStyle:{"line-height":"60rpx",color:"#333333","font-size":"24rpx"}},[e("v-uni-text",{staticStyle:{width:"200rpx"}},[t._v("预约人数")]),e("v-uni-text",[t._v(t._s(t.list.number))])],1):t._e(),t.list&&t.list.heno>0?e("v-uni-view",{staticClass:"u-flex u-flex-wrap",staticStyle:{"line-height":"60rpx",color:"#333333","font-size":"24rpx"}},[e("v-uni-text",{staticStyle:{width:"200rpx"}},[t._v("已核销次数")]),e("v-uni-text",[t._v(t._s(t.list.heno))])],1):t._e(),t.list&&t.list.riqi?e("v-uni-view",{staticClass:"u-flex u-flex-wrap",staticStyle:{"line-height":"60rpx",color:"#333333","font-size":"24rpx"}},[e("v-uni-text",{staticStyle:{width:"200rpx"}},[t._v("预约日期")]),e("v-uni-text",[t._v(t._s(t.list.riqi))])],1):t._e(),t.list&&t.list.riqi?e("v-uni-view",{staticClass:"u-flex u-flex-wrap",staticStyle:{"line-height":"60rpx",color:"#333333","font-size":"24rpx"}},[e("v-uni-text",{staticStyle:{width:"200rpx"}},[t._v("预约时间")]),e("v-uni-text",[t._v(t._s(t.list.time))])],1):t._e(),t._l(t.list.res,(function(i,s){return e("v-uni-view",{key:s,staticClass:"u-flex u-flex-wrap",staticStyle:{"line-height":"60rpx",color:"#333333","font-size":"24rpx"}},[e("v-uni-text",{staticStyle:{width:"200rpx"}},[t._v(t._s(i.name))]),5!=i.type?e("v-uni-text",[t._v(t._s(i.val))]):t._e(),5==i.type?e("v-uni-view",{staticClass:"u-flex"},t._l(i.val,(function(i,s){return e("v-uni-image",{key:s,staticStyle:{width:"100rpx",height:"100rpx"},attrs:{src:i,mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.proimg(i)}}})})),1):t._e()],1)}))],2)],1),t._e(),1==t.list.status?e("v-uni-view",{staticStyle:{height:"100rpx"}}):t._e(),1==t.list.status?e("v-uni-view",{staticClass:"myorderboot u-bg-white u-flex u-row-between"},[e("v-uni-view",{staticClass:"u-flex u-row-center u-col-center zhuti_border zhuti_color u-margin-left-20",staticStyle:{width:"300rpx",height:"70rpx","border-radius":"35rpx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.qxyu()}}},[t._v("取消订单")]),e("v-uni-view",{staticClass:"u-flex u-row-center u-col-center zhuti_bg u-color-white",staticStyle:{width:"300rpx",height:"70rpx","border-radius":"35rpx","margin-right":"20rpx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.getpay(t.list.id)}}},[t._v("立即支付")])],1):t._e(),2==t.list.status?e("v-uni-view",{staticStyle:{height:"100rpx"}}):t._e(),2==t.list.status?e("v-uni-view",{staticClass:"myorderboot u-bg-white u-flex u-row-between"},[e("v-uni-view",{staticClass:"u-flex u-row-center u-col-center zhuti_border zhuti_color u-margin-left-20",staticStyle:{width:"300rpx",height:"70rpx","border-radius":"35rpx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.istui(t.list.id)}}},[t.list.paymo>0?e("v-uni-text",[t._v("我要退款")]):t._e(),0==t.list.paymo?e("v-uni-text",[t._v("我要取消")]):t._e()],1),e("v-uni-view",{staticClass:"u-flex u-row-center u-col-center zhuti_bg u-color-white",staticStyle:{width:"300rpx",height:"70rpx","border-radius":"35rpx","margin-right":"20rpx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.open()}}},[t._v("核销二维码")])],1):t._e(),4==t.list.status?e("v-uni-view",{staticStyle:{height:"100rpx"}}):t._e(),4==t.list.status?e("v-uni-view",{staticClass:"myorderboot u-bg-white u-flex u-row-center"},[e("v-uni-view",{staticClass:"u-flex u-row-center u-col-center zhuti_bg u-color-white",staticStyle:{width:"600rpx",height:"70rpx","border-radius":"35rpx","margin-right":"20rpx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.tiao("../yuyue/info?id="+t.list.yuyue_id)}}},[t._v("再次预约")])],1):t._e(),3==t.list.status?e("v-uni-view",{staticStyle:{height:"100rpx"}}):t._e(),3==t.list.status?e("v-uni-view",{staticClass:"myorderboot u-bg-white u-flex u-row-center"},[e("v-uni-view",{staticClass:"u-flex u-row-center u-col-center zhuti_bg u-color-white",staticStyle:{width:"600rpx",height:"70rpx","border-radius":"35rpx","margin-right":"20rpx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.tiao("../yuyue/info?id="+t.list.yuyue_id)}}},[t._v("再次预约")])],1):t._e(),e("uni-popup",{ref:"popup",attrs:{type:"center"}},[e("v-uni-view",{staticClass:"popbox"},[e("v-uni-view",{staticClass:"topvix"},[e("v-uni-text",{staticClass:"u-font-28 u-color-balck3"},[t._v("核销凭证")])],1),e("v-uni-view",{staticClass:"u-flex u-row-center u-col-center u-padding-20"},[e("v-uni-view",{staticClass:"erlist"},[e("v-uni-text",{staticClass:"u-font-32 u-color-balck6"},[t._v("核销码：NO"+t._s(t.id))]),e("v-uni-image",{staticStyle:{width:"360rpx",height:"360rpx"},attrs:{src:t.list.code,mode:""}})],1)],1),t.list.address?e("v-uni-view",{staticClass:"topvix"},[e("v-uni-text",{staticClass:"u-font-24 u-color-balck3"},[t._v("店铺地址："+t._s(t.list.address))])],1):t._e(),e("v-uni-view",{staticClass:"topvix",staticStyle:{border:"none"}},[e("v-uni-text",{staticClass:"u-font-24 u-color-balck3"},[t._v("预约人数："+t._s(t.list.number))])],1),t.list.paymo>0?e("v-uni-view",[e("v-uni-view",{staticClass:"topvix"},[e("v-uni-text",{staticClass:"u-font-24 u-color-balck3"},[t._v("预约信息："+t._s(t.list.title))]),t.list.tit?e("v-uni-text",{staticClass:"u-font-24 u-color-balck3"},[t._v("【"+t._s(t.list.tit)+"】")]):t._e()],1),e("v-uni-view",{staticClass:"topvix",staticStyle:{border:"none"}},[e("v-uni-text",{staticClass:"u-font-24 u-color-balck3"},[t._v("实付金额："+t._s(t.list.paymo))])],1)],1):e("v-uni-view",{staticClass:"topvix",staticStyle:{border:"none"}},[e("v-uni-text",{staticClass:"u-font-24 u-color-balck3"},[t._v("预约信息："+t._s(t.list.title))]),t.list.tit?e("v-uni-text",{staticClass:"u-font-24 u-color-balck3"},[t._v("【"+t._s(t.list.tit)+"】")]):t._e()],1)],1),e("v-uni-view",{staticClass:"u-flex u-row-center u-col-center u-margin-top-30",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.close()}}},[e("v-uni-text",{staticClass:"icon",staticStyle:{color:"#ffffff","font-size":"64rpx"}},[t._v("")])],1)],1)],1):t._e()},o=[]},b686:function(t,i,e){var s=e("f7a3");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=e("4f06").default;n("96818366",s,!0,{sourceMap:!1,shadowMode:!1})},b7d5:function(t,i,e){"use strict";var s=e("b686"),n=e.n(s);n.a},e453:function(t,i,e){"use strict";e.r(i);var s=e("841a"),n=e.n(s);for(var o in s)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return s[t]}))}(o);i["default"]=n.a},f7a3:function(t,i,e){var s=e("24fb");i=s(!1),i.push([t.i,".erlist[data-v-5ed6c259]{width:%?540?%;height:%?400?%;background-color:#fff;margin-top:%?10?%;margin-bottom:%?10?%;display:flex;flex-direction:column;justify-content:center;align-items:center}.topvix[data-v-5ed6c259]{padding:%?20?%;border-bottom:%?2?% dashed #ccc}.popbox[data-v-5ed6c259]{width:%?600?%;background-color:#f7f7f7}.txtli[data-v-5ed6c259]{line-height:%?40?%;margin-top:%?10?%}.myorderboot[data-v-5ed6c259]{height:%?100?%;width:100%;position:fixed;bottom:0;left:0;border-top:%?1?% solid #f6f6f6}.mobg[data-v-5ed6c259]{background-color:#999}",""]),t.exports=i}}]);